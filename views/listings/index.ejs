<% layout('/layouts/boilerplate')%>
<style>
    #filters{
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 0.2rem;
        margin-bottom:1rem;
    }
    .filter{
        /* margin-top:0rem; */
        text-align:center;
        margin-right: 1rem;
        font-size: 0.8rem;
        opacity: 0.7;
    }
    .filter p{
        font-size:0.9rem;
    }
    .filter:hover{
        opacity: 1;
        cursor: pointer;
    }
    .tax-info{
        display: none;
    }
    #toggle-switch{
        margin-left:2.4rem;
        margin-top:0;
        border: 1px solid black;
        border-radius:1rem;
        height:3rem;
        width:17rem;
        padding: 0.6rem 4rem 1rem 1rem;

    }
</style>
<br>
<body>
    <%- include('../layouts/filters.ejs') %>
    
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
        <% for(let listing of allListings){ %>
            <a href="/listings/<%= listing._id%>" class="card-link">
            <div class="card col listing-card" >
                <img src="<%=listing.image.url%>" class="card-img-top" alt="destination image" style="height: 20rem">
                <div class="card-img-overlay"></div>
                <div class="card-body">
                  <p class="card-text"><b><%=listing.title%>
                  </b>
                <br>
                &#8377; <%=Number(listing.price).toLocaleString("en-IN") %>/night
                <i class="tax-info">&nbsp;&nbsp;+18%GST</i>


            </p>
                </div>
              </div>
            </a>
             <%}%>
        
    </div>
   

</body>

<script>
  let toggle=  document.getElementById("switchCheckDefault");
  toggle.addEventListener("click", ()=>{
    let btns=document.getElementsByClassName("tax-info");
    for(btn of btns ){
        if(btn.style.display!="inline"){
            btn.style.display="inline";
        }else{
            btn.style.display="none";
        }
   
    }
  })
</script>